<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>전체 웹 링크 목록</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/weblinks.css' %}">
</head>
<body>
    <div class="top-bar">
        <span class="username">{{ username }}</span>
        <button class="logout-btn" onclick="location.href='/users/logout/'">로그아웃</button>
    </div>

    <h1 class="title">전체 웹 링크 목록</h1>

    <div class="feed-box">
        <ul id="webLinkList"></ul>
    </div>
    <!-- ✅ 공유받은 웹 링크 목록 추가 -->
    <h2>공유받은 웹 링크</h2>
    <div class="feed-box">
        <ul id="sharedWebLinkList"></ul>
    </div>

    <button class="search-btn" onclick="location.href='/users/auroramain/'">뒤로 가기</button>

    <!-- 공유 모달 -->
    <div id="shareModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeShareModal()">&times;</span>
            <h2>웹 링크 공유</h2>
            <input type="text" id="searchUserInput" placeholder="이메일 또는 이름으로 검색" onkeyup="searchUsers()">
            <ul id="userList" style="display: none;"></ul> <!-- ✅ 기본적으로 숨김 -->
        </div>
    </div>


    <!-- ✅ 수정 모달 -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <h2>웹 링크 수정</h2>
            <input type="hidden" id="editWebLinkId">
            <input type="text" id="editWebLinkName" placeholder="웹 링크 이름">
            <input type="text" id="editWebLinkUrl" placeholder="웹 링크 URL">
            <button class="edit-btn" onclick="updateWebLink()">수정</button>
            <button class="close-btn" onclick="closeEditModal()">닫기</button>
        </div>
    </div>

    <script src="{% static 'js/weblinks.js' %}"></script>
</body>
</html>
